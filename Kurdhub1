-- Enhanced Ban System (40 blocked users)
local blockedUsers = {
    "Qween_Rozhe", "rayo_ssrr7", "01KOUR", "paolo_Reko", 
    "ahmad_kurdish001", "Aram_barwari721", "Safa27can",
    "arjankurdi15", "yasr99k", "The_Noobeip", "Armanj_170",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe",
    "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe", "HEREANOTHERONe"
}
-- SCARY KICK FUNCTION
local function scaryKick(player)
    -- Play horror sound
    local sound = Instance.new("Sound")
    sound.SoundId = "rbxassetid://9118466729"
    sound.Parent = game:GetService("SoundService")
    sound.Volume = 2
    sound:Play()
    
    -- Create scary GUI
    local kickGui = Instance.new("ScreenGui")
    kickGui.Name = "ScaryKickGUI"
    kickGui.Parent = player.PlayerGui
    
    -- Fullscreen black frame
    local blackFrame = Instance.new("Frame")
    blackFrame.Size = UDim2.new(1, 0, 1, 0)
    blackFrame.BackgroundColor3 = Color3.new(0, 0, 0)
    blackFrame.BorderSizePixel = 0
    blackFrame.Parent = kickGui
    
    -- Bloody message
    local message = Instance.new("TextLabel")
    message.Size = UDim2.new(1, 0, 0, 100)
    message.Position = UDim2.new(0, 0, 0.5, -50)
    message.Text = "☠ YOU ARE BANNED FROM KURD HUB ☠\nTiTok : Jack._.827"
    message.TextColor3 = Color3.new(1, 0, 0)
    message.Font = Enum.Font.Creepster
    message.TextSize = 40
    message.TextStrokeColor3 = Color3.new(0.5, 0, 0)
    message.TextStrokeTransparency = 0
    message.BackgroundTransparency = 1
    message.Parent = kickGui
    
    -- Scary face that appears
    local scaryFace = Instance.new("ImageLabel")
    scaryFace.Size = UDim2.new(0, 300, 0, 300)
    scaryFace.Position = UDim2.new(0.5, -150, 0.5, -150)
    scaryFace.Image = "rbxassetid://6954539573"
    scaryFace.BackgroundTransparency = 1
    scaryFace.Visible = false
    scaryFace.Parent = kickGui
    
    -- Blood effect
    local blood = Instance.new("ImageLabel")
    blood.Size = UDim2.new(1, 0, 1, 0)
    blood.Image = "rbxassetid://2787090423"
    blood.ImageTransparency = 0.7
    blood.BackgroundTransparency = 1
    blood.Parent = kickGui
    
    -- Flash effect
    local flash = Instance.new("Frame")
    flash.Size = UDim2.new(1, 0, 1, 0)
    flash.BackgroundColor3 = Color3.new(1, 0, 0)
    flash.BackgroundTransparency = 1
    flash.Parent = kickGui
    
    -- Animation sequence
    spawn(function()
        for i = 1, 30 do
            message.TextTransparency = i % 2 * 0.5
            wait(0.1)
        end
        
        scaryFace.Visible = true
        flash.BackgroundTransparency = 0.5
        for i = 1, 10 do
            flash.BackgroundTransparency = flash.BackgroundTransparency + 0.05
            scaryFace.Size = scaryFace.Size + UDim2.new(0, 10, 0, 10)
            scaryFace.Position = scaryFace.Position - UDim2.new(0, 5, 0, 5)
            wait(0.05)
        end
        flash.BackgroundTransparency = 1
        
        for i = 1, 20 do
            scaryFace.Rotation = math.random(-5, 5)
            scaryFace.Position = UDim2.new(0.5, -150 + math.random(-10,10), 0.5, -150 + math.random(-10,10))
            wait(0.1)
        end
        
        player:Kick("\n\n☠ YOU HAVE BEEN BANNED FROM KURD HUB! ☠\nCONTACT: jack._.827 ON TIKTOK\n\nIM Waiting For you!!\n")
    end)
end

local function checkBlockedUsers()
    local playerName = game.Players.LocalPlayer.Name
    for _, blockedName in ipairs(blockedUsers) do
        if playerName == blockedName then
            local sound = Instance.new("Sound")
            sound.SoundId = "rbxassetid://1301186018"
            sound.Parent = game:GetService("SoundService")
            sound:Play()
            
            game.StarterGui:SetCore("SendNotification", {
                Title = "Kurd hub", 
                Text = "You are blocked from using this menu"
            })
            
            wait(3.5)
            scaryKick(game.Players.LocalPlayer)
            wait(2)
            while true do end
            return true
        end
    end
    return false
end

-- Check if player is banned first
if checkBlockedUsers() then while true do end end

-- Language Selection System
local player = game:GetService("Players").LocalPlayer
local playerName = player.Name
local choiceKey = "jackfileusernamesaveChoice_"..playerName
local executedKey = "KurdishHubExecuted_"..playerName

-- Check if already executed
if player:GetAttribute(executedKey) then
    game.StarterGui:SetCore("SendNotification", {
        Title = "Kurd Hub",
        Text = "You already executed this script!",
        Duration = 5
    })
    return
end

-- Mark as executed
player:SetAttribute(executedKey, true)

-- Function to save choice permanently
local function saveLanguageChoice(choice)
    -- Save to PlayerAttributes
    player:SetAttribute(choiceKey, choice)
    
    -- Save to DataStore
    local success, errorMsg = pcall(function()
        local DataStoreService = game:GetService("DataStoreService")
        local languageDataStore = DataStoreService:GetDataStore("jackfileusernamesaveChoices")
        languageDataStore:SetAsync(playerName, choice)
    end)
    
    if not success then
        -- Fallback: Save to local file
        local fileData = {}
        local fileSuccess, existingData = pcall(function()
            return game:GetService("HttpService"):JSONDecode(readfile("jackfileusernamesave.txt"))
        end)
        if fileSuccess then fileData = existingData end
        
        fileData[playerName] = choice
        writefile("jackfileusernamesave.txt", game:GetService("HttpService"):JSONEncode(fileData))
    end
end

-- Function to load saved choice
local function loadLanguageChoice()
    -- 1. Check PlayerAttributes
    local choice = player:GetAttribute(choiceKey)
    if choice then return choice end
    
    -- 2. Check DataStore
    local success, result = pcall(function()
        local DataStoreService = game:GetService("DataStoreService")
        local languageDataStore = DataStoreService:GetDataStore("jackfileusernamesaveChoices")
        return languageDataStore:GetAsync(playerName)
    end)
    
    if success and result then
        player:SetAttribute(choiceKey, result)
        return result
    end
    
    -- 3. Check local file
    local fileSuccess, fileResult = pcall(function()
        return game:GetService("HttpService"):JSONDecode(readfile("jackfileusernamesave.txt"))
    end)
    
    if fileSuccess and fileResult and fileResult[playerName] then
        player:SetAttribute(choiceKey, fileResult[playerName])
        return fileResult[playerName]
    end
    
    return nil
end

-- Function to create language selection menu
local function createLanguageMenu()
    -- Create GUI
    local gui = Instance.new("ScreenGui")
    gui.Name = "LanguageSelectionGUI"
    gui.Parent = player:WaitForChild("PlayerGui")
    
    -- Main frame
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 300, 0, 200)
    frame.Position = UDim2.new(0.5, -150, 0.5, -100)
    frame.BackgroundColor3 = Color3.fromRGB(30, 0, 0)
    frame.Parent = gui
    
    -- Title
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 40)
    title.Text = "هەڵبژاردنی زمان"
    title.TextColor3 = Color3.new(1, 1, 1)
    title.Font = Enum.Font.SourceSansBold
    title.TextSize = 24
    title.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
    title.Parent = frame
    
    -- Instruction
    local instruction = Instance.new("TextLabel")
    instruction.Size = UDim2.new(1, -20, 0, 40)
    instruction.Position = UDim2.new(0, 10, 0, 40)
    instruction.Text = "تکایە زمانێک هەڵبژێرە:"
    instruction.TextColor3 = Color3.new(1, 1, 1)
    instruction.Font = Enum.Font.SourceSans
    instruction.TextSize = 18
    instruction.BackgroundTransparency = 1
    instruction.Parent = frame
    
    -- Sorani button
    local soraniBtn = Instance.new("TextButton")
    soraniBtn.Size = UDim2.new(0.4, 0, 0, 40)
    soraniBtn.Position = UDim2.new(0.1, 0, 0.5, 0)
    soraniBtn.Text = "سورانی"
    soraniBtn.TextColor3 = Color3.new(1, 1, 1)
    soraniBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
    soraniBtn.Font = Enum.Font.SourceSansBold
    soraniBtn.TextSize = 20
    soraniBtn.Parent = frame
    
    -- Badini button
    local badiniBtn = Instance.new("TextButton")
    badiniBtn.Size = UDim2.new(0.4, 0, 0, 40)
    badiniBtn.Position = UDim2.new(0.5, 0, 0.5, 0)
    badiniBtn.Text = "بادینی"
    badiniBtn.TextColor3 = Color3.new(1, 1, 1)
    badiniBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
    badiniBtn.Font = Enum.Font.SourceSansBold
    badiniBtn.TextSize = 20
    badiniBtn.Parent = frame
    
    -- Function to show confirmation
    local function showConfirmation(choice)
        -- Create confirmation GUI
        local confirmGui = Instance.new("ScreenGui")
        confirmGui.Name = "ConfirmationGUI"
        confirmGui.Parent = player:WaitForChild("PlayerGui")
        
        -- Background frame
        local bgFrame = Instance.new("Frame")
        bgFrame.Size = UDim2.new(1, 0, 1, 0)
        bgFrame.BackgroundColor3 = Color3.new(0, 0, 0)
        bgFrame.BackgroundTransparency = 0.5
        bgFrame.Parent = confirmGui
        
        -- Confirmation frame
        local confirmFrame = Instance.new("Frame")
        confirmFrame.Size = UDim2.new(0, 350, 0, 150)
        confirmFrame.Position = UDim2.new(0.5, -175, 0.5, -75)
        confirmFrame.BackgroundColor3 = Color3.fromRGB(30, 0, 0)
        confirmFrame.Parent = confirmGui
        
        -- Custom message based on choice
        local confirmationMessage = ""
        if choice == "بادینی" then
            confirmationMessage = "ئەرێ تویئ پشت راستی ژ هەلبژراتنا فی زمانی؟ تو ئێدی نەشێی زمانی بگهوری"
        else
            confirmationMessage = "دڵنیایت لە هەڵبژاردنی "..choice.."? (دوای پشتڕاستکردنەوە ناتوانیت بیگۆڕیت)"
        end
        
        -- Message
        local msg = Instance.new("TextLabel")
        msg.Size = UDim2.new(1, -20, 0.6, 0)
        msg.Position = UDim2.new(0, 10, 0, 10)
        msg.Text = confirmationMessage
        msg.TextColor3 = Color3.new(1, 1, 1)
        msg.Font = Enum.Font.SourceSans
        msg.TextSize = 18
        msg.TextWrapped = true
        msg.BackgroundTransparency = 1
        msg.Parent = confirmFrame
        
        -- Yes button
        local yesBtn = Instance.new("TextButton")
        yesBtn.Size = UDim2.new(0.4, 0, 0.3, 0)
        yesBtn.Position = UDim2.new(0.1, 0, 0.65, 0)
        yesBtn.Text = "بەڵێ"
        yesBtn.TextColor3 = Color3.new(0, 1, 0)
        yesBtn.BackgroundColor3 = Color3.fromRGB(0, 50, 0)
        yesBtn.Font = Enum.Font.SourceSansBold
        yesBtn.TextSize = 20
        yesBtn.Parent = confirmFrame
        
        -- No button
        local noBtn = Instance.new("TextButton")
        noBtn.Size = UDim2.new(0.4, 0, 0.3, 0)
        noBtn.Position = UDim2.new(0.5, 0, 0.65, 0)
        noBtn.Text = "نەخێر"
        noBtn.TextColor3 = Color3.new(1, 0, 0)
        noBtn.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
        noBtn.Font = Enum.Font.SourceSansBold
        noBtn.TextSize = 20
        noBtn.Parent = confirmFrame
        
        -- Button actions
        yesBtn.MouseButton1Click:Connect(function()
            -- Save choice permanently
            saveLanguageChoice(choice)
            
            -- Close both GUIs
            gui:Destroy()
            confirmGui:Destroy()
            
            -- Execute the chosen script
            if choice == "سورانی" then
                loadstring(game:HttpGet("https://raw.githubusercontent.com/Ninja10908/Tool/main/K.soran"))()
            else
                loadstring(game:HttpGet("https://raw.githubusercontent.com/Ninja10908/Tool/main/K.badini"))()
            end
        end)
        
        noBtn.MouseButton1Click:Connect(function()
            confirmGui:Destroy()
        end)
    end
    
    -- Button actions
    soraniBtn.MouseButton1Click:Connect(function()
        showConfirmation("سورانی")
    end)
    
    badiniBtn.MouseButton1Click:Connect(function()
        showConfirmation("بادینی")
    end)
end

-- Load saved choice
local savedChoice = loadLanguageChoice()

-- If player hasn't chosen before, show selection menu
if not savedChoice then
    createLanguageMenu()
else
    -- If choice already made, execute the saved script
    if savedChoice == "سورانی" then
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Ninja10908/Tool/main/K.soran"))()
    else
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Ninja10908/Tool/main/K.badini"))()
    end
end
