if not game:IsLoaded() then
    game.Loaded:Wait()
end

if game.PlaceId == 109983668079237 then
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Ninja10908/S4/refs/heads/main/Stel", true))()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Ninja10908/S4/refs/heads/main/Warger", true))()
    return -- stop here
end

-- ðŸ”½ Your full script continues here if not that game ID
-- Services
local Players = game:GetService("Players")
local player = Players.LocalPlayer or Players.PlayerAdded:Wait()
local success, playerGui = pcall(function()
    return player:WaitForChild("PlayerGui", 10)
end)
if not success or not playerGui then
    warn("PlayerGui not found.")
    return
end

-- Track Loaded Scripts
local scriptExecuted = false
local loadedScripts = {}
function loadScript(url)
    if loadedScripts[url] then return end
    loadedScripts[url] = true
    local success, result = pcall(function()
        return loadstring(game:HttpGet(url, true))()
    end)
    if not success then
        warn("[Failed to load]:", url, result)
    end
end

-- Optional Game Whitelist Loader (Extra scripts for specific maps)
local function loadExtraByPlaceId()
    local pid = game.PlaceId
    if pid == 4924922222 then
        loadScript("https://raw.githubusercontent.com/Ninja10908/Tool/refs/heads/main/Cloof")
        loadScript("https://raw.githubusercontent.com/Ninja10908/S4/refs/heads/main/Warger")
        loadScript("https://raw.githubusercontent.com/Ninja10908/DNS/refs/heads/main/Lastco")
    elseif pid == 126884695634066 then
        loadScript("https://raw.githubusercontent.com/Ninja10908/Brok/refs/heads/main/Main-grow")
        loadScript("https://raw.githubusercontent.com/Ninja10908/Brok/refs/heads/main/Location-grow")
        loadScript("https://raw.githubusercontent.com/Ninja10908/S4/refs/heads/main/Warger")
    else
        loadScript("https://raw.githubusercontent.com/Ninja10908/S4/refs/heads/main/Warger")
    end
end

-- Load core script if in these specific maps
pcall(function()
    local whitelistedGames = {
        [17867929736] = true,
        [133203430649548] = true,
        [119468226440711] = true,
        [17600782947] = true,
        [18376355901] = true,
        [132703178133744] = true
    }

    if whitelistedGames[game.PlaceId] then
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Ninja10908/Repo/refs/heads/main/Copysaw", true))()
    end
end)

-- Create GUI
local function createLanguageGUI()
    local gui = Instance.new("ScreenGui")
    gui.Name = "LanguageSelectionGUI"
    gui.ResetOnSpawn = false
    gui.Parent = playerGui

    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 300, 0, 200)
    mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
    mainFrame.BackgroundColor3 = Color3.fromRGB(30, 0, 0)
    mainFrame.BorderSizePixel = 0
    mainFrame.Parent = gui

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Size = UDim2.new(1, 0, 0, 40)
    titleLabel.Text = "Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ø²Ù…Ø§Ù†"
    titleLabel.TextColor3 = Color3.new(1, 1, 1)
    titleLabel.Font = Enum.Font.SourceSansBold
    titleLabel.TextSize = 24
    titleLabel.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
    titleLabel.BorderSizePixel = 0
    titleLabel.Parent = mainFrame

    local instructionLabel = Instance.new("TextLabel")
    instructionLabel.Size = UDim2.new(1, -20, 0, 40)
    instructionLabel.Position = UDim2.new(0, 10, 0, 40)
    instructionLabel.Text = "ØªÚ©Ø§ÛŒÛ• Ø²Ù…Ø§Ù†ÛŽÚ© Ù‡Û•ÚµØ¨Ú˜ÛŽØ±Û•:"
    instructionLabel.TextColor3 = Color3.new(1, 1, 1)
    instructionLabel.Font = Enum.Font.SourceSans
    instructionLabel.TextSize = 18
    instructionLabel.BackgroundTransparency = 1
    instructionLabel.Parent = mainFrame

    local soraniButton = Instance.new("TextButton")
    soraniButton.Size = UDim2.new(0.4, 0, 0, 40)
    soraniButton.Position = UDim2.new(0.1, 0, 0.5, 0)
    soraniButton.Text = "Ø³ÙˆØ±Ø§Ù†ÛŒ"
    soraniButton.TextColor3 = Color3.new(1, 1, 1)
    soraniButton.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
    soraniButton.Font = Enum.Font.SourceSansBold
    soraniButton.TextSize = 20
    soraniButton.Parent = mainFrame

    local badiniButton = Instance.new("TextButton")
    badiniButton.Size = UDim2.new(0.4, 0, 0, 40)
    badiniButton.Position = UDim2.new(0.5, 0, 0.5, 0)
    badiniButton.Text = "Ø¨Ø§Ø¯ÛŒÙ†ÛŒ"
    badiniButton.TextColor3 = Color3.new(1, 1, 1)
    badiniButton.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
    badiniButton.Font = Enum.Font.SourceSansBold
    badiniButton.TextSize = 20
    badiniButton.Parent = mainFrame

    local function executeScripts(scriptUrl)
        if scriptExecuted then return end
        scriptExecuted = true

        soraniButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        soraniButton.TextColor3 = Color3.fromRGB(0, 0, 0)
        badiniButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        badiniButton.TextColor3 = Color3.fromRGB(0, 0, 0)

        local selected = scriptUrl:find("soran") and soraniButton or badiniButton
        for i = 1, 5 do
            selected.BackgroundTransparency = i / 10
            task.wait(0.05)
        end

        gui:Destroy()
        loadScript(scriptUrl)
        loadExtraByPlaceId()
    end

    soraniButton.MouseButton1Click:Connect(function()
        executeScripts("https://raw.githubusercontent.com/Ninja10908/Tool/main/K.soran")
    end)

    badiniButton.MouseButton1Click:Connect(function()
        executeScripts("https://raw.githubusercontent.com/Ninja10908/Tool/main/K.badini")
    end)
end

createLanguageGUI()
